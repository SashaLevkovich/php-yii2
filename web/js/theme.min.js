"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function ownKeys(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var utils=function(i){function l(e){for(var t=arguments.length,a=new Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return e.replace(/{(\d+)}/g,function(e,t){return void 0!==a[t]?a[t]:e})}return{$window:i(window),$document:i(document),$html:i("html"),$body:i("body"),$main:i("main"),location:window.location,nua:navigator.userAgent,navigate:function(e){for(var t=arguments.length,a=new Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];this.location.href=l.apply(void 0,[e].concat(a))},isIterableArray:function(e){return Array.isArray(e)&&!!e.length},setCookie:function(e,t,a){var n=new Date;n.setTime(n.getTime()+a),document.cookie=e+"="+t+";expires="+n.toUTCString()},getCookie:function(e){e=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)");return e&&e[2]},setSpinner:function(e){e?i("#global-spinner").show():i("#global-spinner").hide()},openNameConfirmActionModal:function(e,t,a){var n=i("#global-name-confirm-action-modal"),r=n.find(".action-hint"),o=n.find(".original-name"),t=l(r.data().template,t,a);r.text(t),o.val(a),n.find("form").attr("action",e),n.modal("show")},breakpoints:{xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1540},getBreakpoint:function(e){var t,e=e.attr("class");return e&&(t=this.breakpoints[e.split(" ").filter(function(e){return 0===e.indexOf("navbar-expand-")}).pop().split("-").pop()]),t}}}(jQuery);utils.$document.ready(function(){var t,e,a=$(".navbar-theme");a.length&&(t=utils.$window.height(),utils.$window.scroll(function(){var e=utils.$window.scrollTop()/t*2;1<=e&&(e=1),a.css({"background-color":"rgba(11, 23, 39, ".concat(e,")")})}),e=a.attr("class").split(" ").filter(function(e){return 0<=e.indexOf("navbar-expand-")})[0].split("navbar-expand-")[1],utils.$window.resize(function(){return utils.$window.width()>utils.breakpoints[e]?a.removeClass("bg-dark"):a.find(".navbar-toggler").hasClass("collapsed")?null:a.addClass("bg-dark")}),a.on("show.bs.collapse hide.bs.collapse",function(e){$(e.currentTarget).toggleClass("bg-dark")}))}),utils.$document.ready(function(){window.is.opera()&&utils.$html.addClass("opera"),window.is.mobile()&&utils.$html.addClass("mobile"),window.is.firefox()&&utils.$html.addClass("firefox"),window.is.safari()&&utils.$html.addClass("safari"),window.is.ios()&&utils.$html.addClass("ios"),window.is.iphone()&&utils.$html.addClass("iphone"),window.is.ipad()&&utils.$html.addClass("ipad"),window.is.ie()&&utils.$html.addClass("ie"),window.is.edge()&&utils.$html.addClass("edge"),window.is.chrome()&&utils.$html.addClass("chrome"),utils.nua.match(/puppeteer/i)&&utils.$html.addClass("puppeteer"),window.is.mac()&&utils.$html.addClass("osx"),window.is.windows()&&utils.$html.addClass("windows"),navigator.userAgent.match("CriOS")&&utils.$html.addClass("chrome")}),utils.$document.ready(function(){Stickyfill.add($(".sticky-top")),Stickyfill.add($(".sticky-bottom"))}),utils.$document.ready(function(){var e;!window.is.ie()||(e=$(".sticky-kit")).length&&e.each(function(e,t){var a=$(t),t=_objectSpread({},a.data("options"));a.stick_in_parent(t)})}),utils.$document.ready(function(){function e(e){0<e.scrollTop()&&a?C.addClass(r):C.removeClass(r)}var t=utils.$window,a=!0,n="show",r="navbar-glass-shadow",o="navbar-vertical-collapsed",i="navbar-vertical-collapsed-hover",l=".navbar:not(.navbar-vertical)",s=".navbar-vertical",c=".navbar-vertical-toggle",u="#navbarVerticalCollapse",d=".navbar-vertical-content",p=".navbar-vertical-collapsed",f=".main .content",v=".navbar-top",m="load scroll",h="click",g="resize",b="show.bs.collapse",y="hidden.bs.collapse",w=$("html"),C=$(l),x=$(u),j=$(d),s=$(s),T=utils.getBreakpoint(s);t.on(m,function(){return e(t)}),j.on("scroll",function(){t.width()<T&&(a=!0,e(j))}),x.on(b,function(){t.width()<T&&(a=!1,e(t))}),x.on(y,function(){a=!(x.hasClass(n)&&t.width()<T),e(t)}),x.hover(function(e){setTimeout(function(){$(e.currentTarget).is(":hover")&&$(p).addClass(i)},100)},function(){$(p).removeClass(i)});function k(){var e=$(f).width()+30;$(v).outerWidth(e)}$(document).on(h,c,function(e){var t=JSON.parse(localStorage.getItem("isNavbarVerticalCollapsed"));localStorage.setItem("isNavbarVerticalCollapsed",!t),w.toggleClass(o),k(),$(e.currentTarget).trigger("navbar.vertical.toggle")}),t.on(g,function(){k()})}),utils.$document.ready(function(){var e=$(".analytics-filter-type-form-control"),t=$(".analytics-filter-user-form-control");e.change(function(){$(this).val()==AnalyticsFilterType.ForUser?t.prop("disabled",!1):t.prop("disabled",!0)}).change()}),utils.$document.ready(function(){var a=$(".brand-form-control"),n=$(".dealer-form-control");function r(e){$("option",e).filter(function(){return!!this.value}).remove()}a.trigger("reset"),n.trigger("reset"),a.ready(function(){$.ajax({url:"/brand/available.json",type:"GET",success:function(e){var t=e.map(function(e){return'<option value="'.concat(e.id,'" data-deactivated="').concat(e.isDeactivated,'">').concat(e.name,"</option>")}),e=a.val();r(a),a.append(t.join("")),a.val(e),a.trigger("reset")}})}).change(function(){var e=a.val();if(!e)return r(n),n.val(null),void n.trigger("reset");$.ajax({url:"/brand/".concat(e,"/dealer/available.json"),type:"GET",success:function(e){var t=e.map(function(e){return'<option value="'.concat(e.id,'" data-deactivated="').concat(e.isDeactivated,'">').concat(e.name,"</option>")}),e=n.val();r(n),n.append(t.join("")),n.val(e),n.trigger("reset")}})}).change()}),utils.$document.ready(function(){var t=$(".brand-user-access-form-control"),a=$(".user-form-control");t.trigger("reset"),a.change(function(){var e=a.val();if(!e)return t.val(null),void t.trigger("change");$.ajax({url:"/user-access/user/".concat(e,"/brand/accesses.json"),type:"GET",success:function(e){t.val(e),t.trigger("change")}})}).change()}),utils.$document.ready(function(){var e=$(".breakage-image-type-form-control"),t=$(".breakage-image-mask-form-control");e.change(function(){var e=$(this).val()==BreakageImageType.Default;t.prop("disabled",e),e&&t.valid()}).change()}),utils.$document.ready(function(){var a=window.BreakageImageType,n=$(".brand-form-control"),r=$(".dealer-form-control"),o=$(".breakage-image-type-form-control");function i(e,t){e=$("option",e).filter(function(){return this.value==a.Default}).first();t?e.show():e.hide()}(0<r.length?r.change(function(){var e=n.val(),t=r.val();e&&t?$.ajax({url:"/brand/".concat(e,"/dealer/").concat(t,"/dealer-breakage-image/default-type-available.json"),type:"GET",success:function(e){i(o,e)}}):i(o,!1)}):n.change(function(){var e=n.val();e?$.ajax({url:"/brand/".concat(e,"/brand-breakage-image/default-type-available.json"),type:"GET",success:function(e){i(o,e)}}):i(o,!1)})).change()}),utils.$document.ready(function(){var n=$(".brand-form-control"),r=$(".dealer-form-control"),o=$(".department-type-form-control"),i=$(".check-list-category-alias-form-control"),l=_toConsumableArray($("option",i).map(function(){return+this.value}));function s(e,t){$("option",e).each(function(){t.includes(+this.value)?$(this).show():$(this).hide()})}(0<r.length?r.change(function(){var e=n.val(),t=r.val(),a=o.val();e&&t?$.ajax({url:"/brand/".concat(e,"/dealer/").concat(t,"/check-list-category/dealer-alias-unavailable.json?departmentType=").concat(a),type:"GET",success:function(t){var e=l.filter(function(e){return!t.includes(e)});s(i,e)}}):s(i,[])}):n.change(function(){var e=n.val(),t=o.val();e?$.ajax({url:"/brand/".concat(e,"/check-list-category-preset/brand-alias-unavailable.json?departmentType=").concat(t),type:"GET",success:function(t){var e=l.filter(function(e){return!t.includes(e)});s(i,e)}}):s(i,[])})).change()}),utils.$document.ready(function(){var e=$(".check-list-category-form-control"),n=$(".check-list-item-alias-form-control");_toConsumableArray($("option",n).map(function(){return+this.value}));e.change(function(){var e=$(this).val();if(!e)return n.prop("disabled",!0),void $(this).val(0);$.ajax({url:"/check-list-item/category/".concat(e,"/alias-available.json"),type:"GET",success:function(e){var t,a;n.prop("disabled",!1),t=n,a=e,$("option",t).each(function(){a.includes(+this.value)?$(this).show():$(this).hide()}),t.val(a[0])}})}).change()}),utils.$document.ready(function(){var t=$(".dealer-management-system-form-control");t.trigger("reset"),t.ready(function(){$.ajax({url:"/dms/available.json",type:"GET",success:function(e){e=e.map(function(e){return'<option value="'.concat(e.id,'">').concat(e.name,"</option>")});$("option",t).filter(function(){return!!this.value}).remove(),t.append(e.join("")),t.trigger("reset")}})}).change()}),utils.$document.ready(function(){var t=$(".dealer-user-access-form-control"),a=$(".user-form-control");t.trigger("reset"),a.change(function(){var e=a.val();if(!e)return t.val(null),void t.trigger("change");$.ajax({url:"/user-access/user/".concat(e,"/dealer/accesses.json"),type:"GET",success:function(e){t.val(e),t.trigger("change")}})}).change()}),utils.$document.ready(function(){$(".custom-file-input").change(function(e){var t=$(e.currentTarget),e=t.val().split("\\").pop();t.siblings(".custom-file-label").addClass("selected").html(e),t.valid()}),$(".custom-file-input").change(function(e){var t,a=e.currentTarget;a.files&&a.files[0]&&(t=$(a).closest(".form-group").find(".custom-file-preview").find("img"),(e=new FileReader).onload=function(e){t.attr("src",e.target.result),t.show()},e.readAsDataURL(a.files[0]))}),$(".custom-file-preview").each(function(){var e=$(this).find("img");e.attr("src")||e.hide()})}),utils.$document.ready(function(){function t(e){$(e).hide(),$("input",e).prop("disabled",!0),$("select",e).prop("disabled",!0),$("textarea",e).prop("disabled",!0)}function a(e){$(e).show(),$("input",e).prop("disabled",!1),$("select",e).prop("disabled",!1),$("textarea",e).prop("disabled",!1)}$(".role-form-control").change(function(){var e=$(this).val();t(".SuperAdmin-group"),t(".BrandAdmin-group"),t(".DealerAdmin-group"),t(".ServiceAdviser-group"),t(".Observer-group"),e==Roles.SuperAdmin?a(".SuperAdmin-group"):e==Roles.BrandAdmin?a(".BrandAdmin-group"):e==Roles.DealerAdmin?a(".DealerAdmin-group"):e==Roles.ServiceAdviser?a(".ServiceAdviser-group"):e==Roles.Observer&&a(".Observer-group")}).change()}),utils.$document.ready(function(){function e(e){var t,a;e<d?(t=(e=u.find(n)).html())&&(e.html(""),t="<div data-move-container>".concat("<div class='navbar-vertical-divider'><hr class='navbar-vertical-hr' /></div>").concat(t,"</div>"),a=u.data(c),$(t).insertAfter(a),p<d&&$(l).find(r).addClass(s)):((a=(t=$(l)).find(r)).hasClass(s)&&a.removeClass(s),t.find(o).remove(),a=t.html(),t.remove(),$(i).html(a))}var n=".collapse",r=".navbar-nav",t=".navbar-vertical",o=".navbar-vertical-divider",i=".navbar-top-combo .collapse",l="[data-move-container]",s="flex-column",c="move-target",u=$(".navbar-top-combo"),t=$(t),d=utils.getBreakpoint(u),p=utils.getBreakpoint(t);e(utils.$window.outerWidth()),utils.$window.on("resize",function(){e(utils.$window.outerWidth())})});var DataTable=$.fn.dataTable;$.extend(!0,DataTable.Buttons.defaults,{dom:{container:{className:"dt-buttons"},button:{className:"btn"}},buttonCreated:function(e,t){return t}}),$.extend(!0,$.fn.dataTable.defaults,{paging:!1,searching:!0,processing:!0,dom:"rt",order:[[0,"asc"]],autoWidth:!1,orderCellsTop:!0,language:{processing:'<div class="table-processing-content"><div class="spinner-border text-primary" role="status"></div></div>'},classes:{sProcessing:"table-processing"},createdRow:function createdRow(row,data,dataIndex,cells){var table=this,tableApi=table.api(),settings=table.fnSettings(),$row=$(row),rowClasses=DataTable.parseClasses(settings.oClasses.cRow,row,data)||[];$row.addClass(rowClasses);var cCol=table.fnSettings().oClasses.cCol||{},colsClasses=Object.keys(cCol).map(function(e){return{name:e.endsWith("Col")?e:"".concat(e,"Col"),classes:DataTable.parseClasses(cCol[e],row,data)}});colsClasses.forEach(function(e){var t=e.name,a=e.classes,e=settings.aoColumns.find(function(e){return e.data===t});e&&$("td",row).eq(e.idx).addClass(a)}),$("[dt-if]",row).each(function(){var $elem=$(this),isVisibleExpression=$elem.attr("dt-if"),isVisible=eval(isVisibleExpression);isVisible?$elem.show():$elem.hide()})},initComplete:function(){var a=this,r=a.api(),t=[];r.columns().every(function(e){t[e]=this}),t.filter(function(e,t){return e.visible()}).forEach(function(e,t){$("thead tr:eq(1) th:eq(".concat(t,") input[type=text].searching"),a).on("keyup change",function(){e.search()!==this.value&&(e.search(this.value),e.draw())}),$("thead tr:eq(1) th:eq(".concat(t,") select.searching"),a).on("change",function(){e.search()!==this.value&&(e.search(this.value),e.draw())})}),$(".delete-action",a).on("click",function(){var e=$(this).data(),t=$("#global-delete-modal");t.find("form").attr("action",e.deleteUrl),t.modal("show")}),$(".btn-details",a).on("click",function(){var t=$(this),e=t.data().url,a=t.closest("tr"),n=r.row(a);n.child.isShown()?(n.child.hide(),t.removeClass("active")):(r.processing(!0),$.ajax({url:e,type:"GET",success:function(e){n.child(e,"details").show(),t.addClass("active")},complete:function(){r.processing(!1)}}))})}}),DataTable.onExportExcelActionTable=function(e,r,o,i){var l=this,s=r.settings()[0]._iDisplayStart;r.one("preXhr",function(e,t,a){a.start=0,a.length=2147483647,r.one("preDraw",function(e,n){return 0<=o[0].className.indexOf("buttons-excel")&&($.fn.dataTable.ext.buttons.excelHtml5.available(r,i)?$.fn.dataTable.ext.buttons.excelHtml5:$.fn.dataTable.ext.buttons.excelFlash).action.call(l,e,r,o,i),r.one("preXhr",function(e,t,a){n._iDisplayStart=s,a.start=s}),setTimeout(r.ajax.reload,0),!1})}),r.ajax.reload()},DataTable.onRenderIndexColumnTable=function(e,t,a,n){return n.row+1},DataTable.onRenderImageColumnTable=function(e,t,a,n){return e&&"-"!==e?'<img style="width: 50px; max-height: 50px;" src="/document/'.concat(e,'" />'):"-"},DataTable.parseClasses=function(t,e,a){return(t=t&&("function"==typeof t?t(e,a):t))?"string"==typeof t?[t]:t instanceof Array?t.filter(function(e){return!!e&&"string"==typeof e}):Object.keys(t).filter(function(e){return!!t[e]}):null},window.utils.$document.ready(function(){$(".date-picker").each(function(e,t){var a=$(t),t=$.extend({altInput:!0,altFormat:"F j, Y",dateFormat:"Y-m-d",disableMobile:!0},a.data("options"));a.attr("placeholder",t.dateFormat),a.flatpickr(t)})}),$(document).on("submit","form",function(){utils.setSpinner(!0)}),$.validator.addMethod("extension",function(e,t,a){return a="string"==typeof a?a.replace(/\./g,"").replace(/,/g,"|"):"png|jpe?g|gif",this.optional(t)||e.match(new RegExp("\\.("+a+")$","i"))},$.validator.format("Please enter a value with a valid extension.")),$.validator.addMethod("requiredIfMatch",function(e,t,a){t=$(t);return(t.is("option")?t.parent():t).prop("disabled")||""!==e&&null!=e&&0<e.length}),$.validator.unobtrusive.adapters.addBool("requiredIfMatch"),window.utils.$document.ready(function(){$("[data-qr-code]").each(function(e,t){var a=$(t).data("qr-code");QRCode.toCanvas(t,a.qrCodeUri,{errorCorrectionLevel:a.errorCorrectionLevel})})}),function(r){var o,i,n;r.validator&&r.validator.unobtrusive?(o=r.validator.defaults.highlight,i=r.validator.defaults.unhighlight,r.validator.setDefaults({highlight:function(e,t,a){var n=r(e).parent();n.is(".select2")&&(e=n.next().find(".select2-selection")),o.call(this,e,t,a)},unhighlight:function(e,t,a){var n=r(e).parent();n.is(".select2")&&(e=n.next().find(".select2-selection")),i.call(this,e,t,a)}}),n=r.validator.unobtrusive.options.errorPlacement,r.validator.unobtrusive.options=_objectSpread(_objectSpread({},r.validator.unobtrusive.options),{},{errorPlacement:function(e,t){var a=r(t).next();a.is(".select2")&&(t=a),n.call(this,e,t)}}),r(document).on("change",".select2",function(){r(this).valid()})):console.warn("$.validator is not defined. Please load this library **after** loading jquery.validate.js and jquery.validate.unobtrusive.js")}(jQuery),window.utils.$document.ready(function(){function o(e,t){var a=$(e).parent(),e=$(".select2-selection__choice",a),a=$("input.select2-search__field",a),e=t.placeholder.replace("[index]",e.length+1);a.prop("placeholder",e)}function i(e,t){return""!==$.trim(e.term)&&void 0!==t.text&&t.text===e.term?$.extend({},t,!0):null}$(".select2").each(function(e,t){var a=$(t),n=$.extend({theme:"bootstrap4",dropdownAutoWidth:!0,width:"100%"},a.data("options"));"multi-input"==n.preset&&(n=_objectSpread(_objectSpread({},n),{},{tags:!0,multiple:!0,matcher:i,containerCssClass:"multi-input",dropdownCssClass:"multi-input",allowClear:!1,selectOnClose:!0,tokenSeparators:["|"]})),"multi-select"==n.preset&&(n=_objectSpread(_objectSpread({},n),{},{multiple:!0})),"deactivated-mark"===n.templateResult&&(r=function(e){return e.id&&$(e.element).data().deactivated?$("<span>".concat(e.text,' <span class="text-warning">(').concat(n.deactivatedLabel,")</span></span>")):e.text},n.templateResult=r,n.templateSelection=r),n.data&&(n.data=n.data.map(function(e){return{selected:!0,id:e,text:e}}));var r,t=a.select2(n);"multi-input"==n.preset&&(o(a,n),a.on("select2:open select2:close select2:select select2:unselect select2:clear change change.select2",function(){setTimeout(function(){o(a,n)})})),n.items&&(r=n.items.map(function(e){return new Option(e.key,e.label,!1,!1)}),t.append.apply(t,_toConsumableArray(r)).trigger("change"))})}),utils.$document.ready(function(){utils.setSpinner(!1)}),utils.$document.ready(function(){$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover()});
//# sourceMappingURL=theme.min.js.map
